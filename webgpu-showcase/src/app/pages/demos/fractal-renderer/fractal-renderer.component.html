<div class="demo-page">
  <div class="demo-page__header">
    <h1><span class="icon">ðŸŒŒ</span> Fractal Renderer</h1>
  </div>
  
  <div class="demo-page__content">
    <div class="demo-page__canvas-area" (wheel)="onWheel($event)" (mousedown)="onMouseDown($event)">
      <app-demo-base 
        #demoBase
        (contextReady)="onContextReady($event)"
      ></app-demo-base>
    </div>
    
    <div class="demo-page__controls">
      <p class="demo-page__description">
        Explore the infinite complexity of the Mandelbrot set. Use mouse wheel to zoom 
        and drag to pan. Click on interesting areas to zoom in.
      </p>
      
      <h3>Fractal Type</h3>
      
      <div class="control-group">
        <select [(ngModel)]="fractalType" (change)="onFractalChange()">
          <option value="mandelbrot">Mandelbrot Set</option>
          <option value="julia">Julia Set</option>
          <option value="burning_ship">Burning Ship</option>
        </select>
      </div>

      <h3>Parameters</h3>
      
      <div class="control-group">
        <label>Max Iterations: {{ maxIterations }}</label>
        <input 
          type="range" 
          min="50" 
          max="10000" 
          step="50" 
          [(ngModel)]="maxIterations"
        >
      </div>

      <div class="control-group">
        <label>Color Scheme</label>
        <select [(ngModel)]="colorScheme">
          <option value="0">Classic</option>
          <option value="1">Fire</option>
          <option value="2">Ice</option>
          <option value="3">Rainbow</option>
        </select>
      </div>

      <div class="control-group" *ngIf="fractalType === 'julia'">
        <label>Julia C (Real): {{ juliaC[0].toFixed(3) }}</label>
        <input 
          type="range" 
          min="-1" 
          max="1" 
          step="0.01" 
          [(ngModel)]="juliaC[0]"
        >
      </div>

      <div class="control-group" *ngIf="fractalType === 'julia'">
        <label>Julia C (Imag): {{ juliaC[1].toFixed(3) }}</label>
        <input 
          type="range" 
          min="-1" 
          max="1" 
          step="0.01" 
          [(ngModel)]="juliaC[1]"
        >
      </div>

      <button class="btn btn--primary" (click)="resetView()">
        Reset View
      </button>

      <div class="stats-panel">
        <div class="stats-panel__item">
          <span class="label">Zoom</span>
          <span class="value">{{ zoom.toExponential(2) }}</span>
        </div>
        <div class="stats-panel__item">
          <span class="label">Center</span>
          <span class="value">{{ centerX.toFixed(4) }}, {{ centerY.toFixed(4) }}</span>
        </div>
      </div>
    </div>
  </div>
</div>


